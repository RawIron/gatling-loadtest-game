package loadtest.gamestate

import io.gatling.core.Predef._
import java.security.MessageDigest

import loadtest.util._


trait GameStateFeeder
{
  val encoded_game_state:String = "eyJkYXRhIjp7InBsYXllcl9kYXRhXzIiOiI8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtMTZcIj8+XHJcbjxQbGF5ZXJEYXRhIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIgeG1sbnM6eHNkPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWFcIj5cclxuICA8cGs+MjwvcGs+XHJcbiAgPG5hbWU+MjwvbmFtZT5cclxuICA8Y3VycmVudENoYXJhY3RlclBrPmJpbGx5X2NoYXJhY3RlcjwvY3VycmVudENoYXJhY3RlclBrPlxyXG4gIDxmYWNlYm9va0lkIC8+XHJcbiAgPGdhbWVjZW50ZXJJZCAvPlxyXG4gIDx0dXRvcmlhbFN0YWdlQ29tcGxldGVkPjA8L3R1dG9yaWFsU3RhZ2VDb21wbGV0ZWQ+XHJcbiAgPHJld2FyZE11bHRpcGxpZXI+MTwvcmV3YXJkTXVsdGlwbGllcj5cclxuICA8ZGFpbHlSZXdhcmRzRGF0YT5cclxuICAgIDxkYWlseVJld2FyZExhc3RMb2dpbj44LzE1LzIwMTM8L2RhaWx5UmV3YXJkTGFzdExvZ2luPlxyXG4gICAgPGRhaWx5UmV3YXJkc0RheT4wPC9kYWlseVJld2FyZHNEYXk+XHJcbiAgICA8ZGF5UmV3YXJkcz5cclxuICAgICAgPERheVJld2FyZERhdGE+XHJcbiAgICAgICAgPHBrIC8+XHJcbiAgICAgIDwvRGF5UmV3YXJkRGF0YT5cclxuICAgICAgPERheVJld2FyZERhdGE+XHJcbiAgICAgICAgPHBrIC8+XHJcbiAgICAgIDwvRGF5UmV3YXJkRGF0YT5cclxuICAgICAgPERheVJld2FyZERhdGE+XHJcbiAgICAgICAgPHBrIC8+XHJcbiAgICAgIDwvRGF5UmV3YXJkRGF0YT5cclxuICAgICAgPERheVJld2FyZERhdGE+XHJcbiAgICAgICAgPHBrIC8+XHJcbiAgICAgIDwvRGF5UmV3YXJkRGF0YT5cclxuICAgIDwvZGF5UmV3YXJkcz5cclxuICA8L2RhaWx5UmV3YXJkc0RhdGE+XHJcbiAgPGN1cnJlbnRHbGlkZXJEYXRhPlxyXG4gICAgPHBrPm5pYmJsZXNfZ2xpZGVyPC9waz5cclxuICAgIDxwYXJ0cz5cclxuICAgICAgPFBhcnREYXRhPlxyXG4gICAgICAgIDxwaz5uaWJibGVzX2dsaWRlcl9iYWNrPC9waz5cclxuICAgICAgICA8bGV2ZWw+MTwvbGV2ZWw+XHJcbiAgICAgIDwvUGFydERhdGE+XHJcbiAgICAgIDxQYXJ0RGF0YT5cclxuICAgICAgICA8cGs+bmliYmxlc19nbGlkZXJfYm9keTwvcGs+XHJcbiAgICAgICAgPGxldmVsPjE8L2xldmVsPlxyXG4gICAgICA8L1BhcnREYXRhPlxyXG4gICAgICA8UGFydERhdGE+XHJcbiAgICAgICAgPHBrPm5pYmJsZXNfZ2xpZGVyX2Zyb250PC9waz5cclxuICAgICAgICA8bGV2ZWw+MTwvbGV2ZWw+XHJcbiAgICAgIDwvUGFydERhdGE+XHJcbiAgICAgIDxQYXJ0RGF0YT5cclxuICAgICAgICA8cGs+bmliYmxlc19nbGlkZXJfd2luZ3M8L3BrPlxyXG4gICAgICAgIDxsZXZlbD4xPC9sZXZlbD5cclxuICAgICAgPC9QYXJ0RGF0YT5cclxuICAgIDwvcGFydHM+XHJcbiAgICA8bGV2ZWw+MTwvbGV2ZWw+XHJcbiAgPC9jdXJyZW50R2xpZGVyRGF0YT5cclxuICA8dW5sb2NrZWRHbGlkZXJzPlxyXG4gICAgPEdsaWRlckRhdGE+XHJcbiAgICAgIDxwaz5uaWJibGVzX2dsaWRlcjwvcGs+XHJcbiAgICAgIDxwYXJ0cz5cclxuICAgICAgICA8UGFydERhdGE+XHJcbiAgICAgICAgICA8cGs+bmliYmxlc19nbGlkZXJfYmFjazwvcGs+XHJcbiAgICAgICAgICA8bGV2ZWw+MTwvbGV2ZWw+XHJcbiAgICAgICAgPC9QYXJ0RGF0YT5cclxuICAgICAgICA8UGFydERhdGE+XHJcbiAgICAgICAgICA8cGs+bmliYmxlc19nbGlkZXJfYm9keTwvcGs+XHJcbiAgICAgICAgICA8bGV2ZWw+MTwvbGV2ZWw+XHJcbiAgICAgICAgPC9QYXJ0RGF0YT5cclxuICAgICAgICA8UGFydERhdGE+XHJcbiAgICAgICAgICA8cGs+bmliYmxlc19nbGlkZXJfZnJvbnQ8L3BrPlxyXG4gICAgICAgICAgPGxldmVsPjE8L2xldmVsPlxyXG4gICAgICAgIDwvUGFydERhdGE+XHJcbiAgICAgICAgPFBhcnREYXRhPlxyXG4gICAgICAgICAgPHBrPm5pYmJsZXNfZ2xpZGVyX3dpbmdzPC9waz5cclxuICAgICAgICAgIDxsZXZlbD4xPC9sZXZlbD5cclxuICAgICAgICA8L1BhcnREYXRhPlxyXG4gICAgICA8L3BhcnRzPlxyXG4gICAgICA8bGV2ZWw+MTwvbGV2ZWw+XHJcbiAgICA8L0dsaWRlckRhdGE+XHJcbiAgICA8R2xpZGVyRGF0YT5cclxuICAgICAgPHBrPndvb2RoYXdrX2dsaWRlcjwvcGs+XHJcbiAgICAgIDxwYXJ0cz5cclxuICAgICAgICA8UGFydERhdGE+XHJcbiAgICAgICAgICA8cGs+d29vZGhhd2tfZ2xpZGVyX2JhY2s8L3BrPlxyXG4gICAgICAgICAgPGxldmVsPjE8L2xldmVsPlxyXG4gICAgICAgIDwvUGFydERhdGE+XHJcbiAgICAgICAgPFBhcnREYXRhPlxyXG4gICAgICAgICAgPHBrPndvb2RoYXdrX2dsaWRlcl9ib2R5PC9waz5cclxuICAgICAgICAgIDxsZXZlbD4xPC9sZXZlbD5cclxuICAgICAgICA8L1BhcnREYXRhPlxyXG4gICAgICAgIDxQYXJ0RGF0YT5cclxuICAgICAgICAgIDxwaz53b29kaGF3a19nbGlkZXJfZnJvbnQ8L3BrPlxyXG4gICAgICAgICAgPGxldmVsPjE8L2xldmVsPlxyXG4gICAgICAgIDwvUGFydERhdGE+XHJcbiAgICAgICAgPFBhcnREYXRhPlxyXG4gICAgICAgICAgPHBrPndvb2RoYXdrX2dsaWRlcl93aW5nczwvcGs+XHJcbiAgICAgICAgICA8bGV2ZWw+MTwvbGV2ZWw+XHJcbiAgICAgICAgPC9QYXJ0RGF0YT5cclxuICAgICAgPC9wYXJ0cz5cclxuICAgICAgPGxldmVsPjE8L2xldmVsPlxyXG4gICAgPC9HbGlkZXJEYXRhPlxyXG4gIDwvdW5sb2NrZWRHbGlkZXJzPlxyXG4gIDx1bmxvY2tlZENoYXJhY3RlcnM+XHJcbiAgICA8Q2hhcmFjdGVyRGF0YT5cclxuICAgICAgPHBrPmJpbGx5X2NoYXJhY3RlcjwvcGs+XHJcbiAgICA8L0NoYXJhY3RlckRhdGE+XHJcbiAgICA8Q2hhcmFjdGVyRGF0YT5cclxuICAgICAgPHBrPmFycmFfY2hhcmFjdGVyPC9waz5cclxuICAgIDwvQ2hhcmFjdGVyRGF0YT5cclxuICAgIDxDaGFyYWN0ZXJEYXRhPlxyXG4gICAgICA8cGs+c3VtYV9jaGFyYWN0ZXI8L3BrPlxyXG4gICAgPC9DaGFyYWN0ZXJEYXRhPlxyXG4gICAgPENoYXJhY3RlckRhdGE+XHJcbiAgICAgIDxwaz5yaWNrZXRfY2hhcmFjdGVyPC9waz5cclxuICAgIDwvQ2hhcmFjdGVyRGF0YT5cclxuICA8L3VubG9ja2VkQ2hhcmFjdGVycz5cclxuICA8cGxheWVySW52ZW50b3J5PlxyXG4gICAgPEludmVudG9yeURhdGE+XHJcbiAgICAgIDxwaz5Ob25lPC9waz5cclxuICAgICAgPHR5cGU+Tm9uZTwvdHlwZT5cclxuICAgICAgPGNvdW50PjA8L2NvdW50PlxyXG4gICAgPC9JbnZlbnRvcnlEYXRhPlxyXG4gICAgPEludmVudG9yeURhdGE+XHJcbiAgICAgIDxwaz5kZWF0aF9jcnlzdGFsPC9waz5cclxuICAgICAgPHR5cGU+RGVhdGg8L3R5cGU+XHJcbiAgICAgIDxjb3VudD4wPC9jb3VudD5cclxuICAgIDwvSW52ZW50b3J5RGF0YT5cclxuICAgIDxJbnZlbnRvcnlEYXRhPlxyXG4gICAgICA8cGs+ZWFydGhfY3J5c3RhbDwvcGs+XHJcbiAgICAgIDx0eXBlPkVhcnRoPC90eXBlPlxyXG4gICAgICA8Y291bnQ+MDwvY291bnQ+XHJcbiAgICA8L0ludmVudG9yeURhdGE+XHJcbiAgICA8SW52ZW50b3J5RGF0YT5cclxuICAgICAgPHBrPmVsZWN0cmljX2NyeXN0YWw8L3BrPlxyXG4gICAgICA8dHlwZT5FbGVjdHJpYzwvdHlwZT5cclxuICAgICAgPGNvdW50PjA8L2NvdW50PlxyXG4gICAgPC9JbnZlbnRvcnlEYXRhPlxyXG4gICAgPEludmVudG9yeURhdGE+XHJcbiAgICAgIDxwaz5maXJlX2NyeXN0YWw8L3BrPlxyXG4gICAgICA8dHlwZT5GaXJlPC90eXBlPlxyXG4gICAgICA8Y291bnQ+MDwvY291bnQ+XHJcbiAgICA8L0ludmVudG9yeURhdGE+XHJcbiAgICA8SW52ZW50b3J5RGF0YT5cclxuICAgICAgPHBrPmljZV9jcnlzdGFsPC9waz5cclxuICAgICAgPHR5cGU+SWNlPC90eXBlPlxyXG4gICAgICA8Y291bnQ+MDwvY291bnQ+XHJcbiAgICA8L0ludmVudG9yeURhdGE+XHJcbiAgICA8SW52ZW50b3J5RGF0YT5cclxuICAgICAgPHBrPndpbmRfY3J5c3RhbDwvcGs+XHJcbiAgICAgIDx0eXBlPldpbmQ8L3R5cGU+XHJcbiAgICAgIDxjb3VudD4wPC9jb3VudD5cclxuICAgIDwvSW52ZW50b3J5RGF0YT5cclxuICAgIDxJbnZlbnRvcnlEYXRhPlxyXG4gICAgICA8cGs+bmVvY3J5c3RhbHM8L3BrPlxyXG4gICAgICA8dHlwZT5OZW9DcnlzdGFsczwvdHlwZT5cclxuICAgICAgPGNvdW50PjEwMDAwMDwvY291bnQ+XHJcbiAgICA8L0ludmVudG9yeURhdGE+XHJcbiAgPC9wbGF5ZXJJbnZlbnRvcnk+XHJcbiAgPHBsYXllck1ldHJpY3MgLz5cclxuICA8cGxheWVyQWNoaWV2bWVudHMgLz5cclxuICA8Y3VycmVudENvbnRyb2xzPktFWUJPQVJEPC9jdXJyZW50Q29udHJvbHM+XHJcbiAgPGN1cnJlbnRTb2NpYWxOZXR3b3JrPk9GRkxJTkU8L2N1cnJlbnRTb2NpYWxOZXR3b3JrPlxyXG4gDxjdXJyZW50Q3VycmVuY3k+MTAwMDAwPC9jdXJyZW50Q3VycmVuY3k+XHJcbjwvUGxheWVyRGF0YT4ifSwic2VjcmV0X3dvcmQiOiJhbGxoYWlsZHJzYWFkaWFraW5nb2Z0aGVodW1tdXMifQ=="
  val md5_of_encoded_game_state = MD5_Digest.md5SumString(encoded_game_state.getBytes)

  val gamestate_generator = new Feeder[String] {
    override def hasNext = true

    override def next: Map[String,String] = {
      Map("gamestate" -> encoded_game_state,
          "gamestate_md5" -> md5_of_encoded_game_state)
    }
  }
}